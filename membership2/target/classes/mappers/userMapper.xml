<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="userMapper">

	<insert id="register" parameterType="Map">
			insert into users (us_id,us_password,us_name,us_email,us_phone_num)
			values (#{usId},#{usPassword},#{usName},#{usEmail}, #{usPhoneNum})
	</insert>
	
	<select id="login" parameterType="com.membership.login.UserVo" resultType="com.membership.login.UserVo">
			select us_id, us_password
			from users
 			where us_id = #{usId}
			and us_password = #{usPassword}
	</select>
	
	<select id="idDup" parameterType="String" resultType="int">
		select count(*)
		from users
		where us_id = #{usId}
	</select>
	
	<select id="nickDup" parameterType="String" resultType="int">
		select count(*)
		from users
		where us_name = #{usName}
	</select>
	
	<!-- 비번 찾기 위한 유저 정보 확인 -->
	<select id="readMember" parameterType="Map" resultType = "com.membership.login.UserVo">
		select us_id, us_Email, us_status
		from users
		where us_id = #{usId}
		and us_Email = #{usEmail}
		and us_status = 2
	</select>
	
	<!-- 아이디 찾기 위한 유저 정보 확인 -->
	<select id="readMember2" parameterType="com.membership.login.UserVo" resultType = "com.membership.login.UserVo">
		select us_id, us_Name
		from users
		where us_Name = #{usName}
	</select>

	
</mapper>